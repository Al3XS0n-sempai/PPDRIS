# PPDRIS
Репозиторий с домашними заданиями по курсу ППДРИС (Практикум по дизайну и разработке информационных систем) 2024-2025.  
Студент: Цхай Александр  
Курс: 5  
Группа: М05-411в  
Кафедра: Банковские и информационные технологии (БиТ)  

---  

### Структура репозитория
Каждая лабораторная работа лежит в соответствующей папке. До merg'а pull request'а и в соответствующей ветке.  
То есть лабораторная работа номер N после merg'а будет лежать в папке lab_work_N в ветке master. До merg'а в этой же папке, но в ветке lab_work/N.

---  
### Статусы лабораторных работ. 
**\+** значит что лабораторная работа в работе  
**?** обозначает открытый PR  
**X** обозначат выполненое и соответсвенно влитое в мастер ветку задание  
[ X ] 1 Лабораторная работа
[ ? ] 2 Лабораторная работа
[ ? ] 3 Лабораторная работа
[ ? ] 4 Лабораторная работа


---
### Условия лабораторных работ  
1. TLDR: Скрипт запускающих мониторинг в фоне.
    <details>
      <summary> Полное условие </summary>
      Нужно написать shell файл:  
      Который принимает на вход три параметра START|STOP|STATUS.  
      START запускает его в фоне и выдает PID процесса,  
      STATUS выдает состояние - запущен/нет,  
      STOP - останавливает PID  
      Сам shell мониторит утилизацию дискового пространства, количество свободных inode. Выводит информацию в виде csv файла.  
      Имя файла должно содержать timestamp запуска + дату за которую мониторинг.  
      Предусмотреть создание нового файла при переходе через сутки
    </details>
2. JENKINS
    <details>
      <summary> Полное условие </summary>
      Взять приложение из п.3 (или любое другое), автоматизировать его сборку в Jenkins (pipeline и freestyle Job) на событие pull-request/push.
      В pipeline должны входить:  

      - сборка приложения (maven, другой сборщик)  
      - запуск автотестов (unit в зависимости от проекта, postman)  
      - сборка результатов работы тестов в allure и отброска в Jenkins  
      - анализ исходного кода Sonar (в том числе необходимо исправить все ошибки и (добиться не менее 90% покрытия кода тестами)* зависит от проекта)  
      - деплой приложения через Ansible (из лаб №2) или сборка контейнера (т.е. отказ от ансибл)
 
    </details>


---  
### Комментарии к решениям  
1. Как пользоваться:  
    ```shellsession
    # Для старта мониторинга
    foo@bar:~$ ./script.sh START
    ...
    # Для просмотра статуса
    foo@bar:~$ ./script.sh STATUS
    ...
    # Для остановки мониторинга
    foo@bar:~$ ./script.sh STOP
    ...
    ```
2. Это был ужас плагины в Jenkins ставились только с VPN
\+ SonarQube сразу не встал. Оказывается нужно предварительно сделать:
    ```shellsession
      sysctl -w vm.max_map_count=524288
      sysctl -w fs.file-max=131072
      ulimit -n 131072
      ulimit -u 8192
    ```
    Потом нужно было сделать папки sonarquba доступными для его образа и т.д. В обшем проблемы была куча, но задание крутое.